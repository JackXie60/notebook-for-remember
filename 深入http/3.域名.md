# 域名
域名本质上就是一个名字空间系统，使用多级域名就可以划分出不同国家。地区，组织，公司，部门，每个域名都独一无二，可以作为一种身份的表示

## 域名的解析
DNS的核心系统是一个三层的树状，分布式服务，基本对应域名的结构
1. 根域名服务器（Root DNS Server）：管理顶级域名服务器，返
回“com”“net”“cn”等顶级域名服务器的 IP 地址；
2. 顶级域名服务器（Top-level DNS Server）：管理各自域名下的权威域名服务器，比如com 顶级域名服务器可以返回 apple.com 域名服务器的 IP 地址；
3. 权威域名服务器（Authoritative DNS Server）：管理自己域名下主机的 IP 地址，比如apple.com 权威域名服务器可以返回 www.apple.com 的 IP 地址。

你要访问“www.apple.com”，就要进行下面的三次查询：
1. 访问根域名服务器，它会告诉你.com顶级域名服务器的地址
2. 访问com顶级域名服务器，它再告诉你apple.com域名服务器的地址
3. 最后访问apple.com域名服务器，就得到了www.apple.com

**两种手段减轻域名解析的压力**
1. 缓存
许多大公司，网络运行商都会建立自己的DNS服务器，作为用户DNS查询的代理，代替洪湖访问核心DNS系统，这些服务器被称为非权威域名服务器，可以缓存之前的查询结果
操作系统也会对NDS解析结果进行缓存，下次再访问可以直接去操作系统中拿到IP地址
操作系统中还有一个特殊的主机映射文件，hosts文件，如果操作系统在缓存中找不到DNS就回去照这个文件

**域名的新玩法**
1. 重定向，对外服务的域名不变，而主机的IP地址任意变动，这样保证业务服务不中断
2. 域名是一个名字空间，可以使用bing9等开源软件搭建一个在内部使用的DNS作为名字服务器，这样我们开发的各种内部服务就都用域名来标记
3. 基于域名实现的负载均衡
   - 域名解析可以返回多个IP地址，一个域名对应多台主机，客户端受到多个IP地址后，就可以自己使用轮询算法依次向服务器发起请求，实现负载均衡
   - 域名解析可以配置内部的策略，返回里客户端最近的主机或则当前服务质量最好的主机，这样在DNS把请求分发到不同的服务器，实现负载均衡