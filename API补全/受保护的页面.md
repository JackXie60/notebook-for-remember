# 受保护的页面

```
//protectRoute.js文件
import React from 'react'
import { Redirect, Route } from 'react-router-dom'
import loginInfo from './LoginInfo'

export default function ProtectRoute({component:Component,children,render,...rest}){
    return (
        <Route {...rest}  render={(values)=>{
            console.log(values)
            if(loginInfo.isLogin){
                return <Component/>
            }else{
                return <Redirect to={{
                    pathname:'/login',
                    search:'?returnurl='+values.location.pathname
                }}></Redirect>
            }
        }}/>
    )
}
```

```
<Switch>
          <Route  path="/login" component={Login}></Route>
          <ProtectRoute  path="/personal" component={Personal}></ProtectRoute>
          <ProtectRoute  path="/test" component={Test}></ProtectRoute>
          <Route  path="/" component={Home}></Route>
        </Switch>
```
